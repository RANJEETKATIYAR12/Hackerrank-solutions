#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int main() {
    int T;
    if (scanf("%d", &T) != 1) return 0;
    while (T--) {
        int n, k;
        scanf("%d %d", &n, &k);
        long long *freq = (long long*) calloc(k, sizeof(long long));
        long long ans = 0;
        int prefix = 0;
        // empty prefix has remainder 0
        freq[0] = 1;

        for (int i = 0; i < n; ++i) {
            int x;
            scanf("%d", &x);
            prefix = (prefix + x) % k;
            // prefix is non-negative because x >= 0 and k > 0
            ans += freq[prefix];
            freq[prefix]++;
        }

        printf("%lld\n", ans);
        free(freq);
    }
    return 0;
}
